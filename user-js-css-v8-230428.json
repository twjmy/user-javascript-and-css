{"libs":[{"name":"jQuery 3","src":"@extension@jquery.min.js"}],"settings":{"badgeCounter":false,"editorConfig":{"enableBasicAutocompletion":false,"enableLiveAutocompletion":true,"enableSnippets":true,"fontSize":16,"highlightActiveLine":false,"keyboardHandler":false,"showPrintMargin":false,"tabSize":2,"theme":"ace/theme/github","useSoftTabs":true,"useWorker":true,"wrap":true},"supportBtn":false,"themesFolder":["chrome","clouds","dawn","dracula","dreamweaver","eclipse","github","monokai","solarized_dark","solarized_light","textmate","tomorrow","tomorrow_night","twilight"],"version":8},"sites":[{"compiledCss":"","css":"","id":"*","js":"function toggleFullscreen() {\r\n\tif (document.fullscreenElement) document.exitFullscreen();\r\n\telse document.documentElement.requestFullscreen();\r\n}\r\n\r\nfunction toggleContentEditable() {\r\n\tif (document.documentElement.contentEditable == 'inherit') {\r\n\t\tdocument.documentElement.setAttribute('contenteditable', '');\r\n\t\thint('按下 F2 即可結束網頁編輯模式');\r\n\t} else document.documentElement.contentEditable = 'inherit';\r\n}\r\n\r\nconst userSelect = document.createElement(\"style\");\r\nuserSelect.setAttribute('id', 'userSelect');\r\nuserSelect.innerHTML = `*{user-select: text !important;}`;\r\n\r\nfunction toggleUserSelect() {\r\n\tif (!document.querySelector(`#userSelect`)) {\r\n\t\tdocument.documentElement.appendChild(userSelect);\r\n\t\thint('按下 F4 即可結束網頁選取模式');\r\n\t} else userSelect.remove();\r\n}\r\n\r\nconst el = document.createElement(\"div\");\r\nel.setAttribute('class','modal');\r\n// https://jsfiddle.net/Tq5m3/43/\r\nfunction hint(msg = null,duration = 1000) {\r\n\tel.removeAttribute('style')\r\n    el.setAttribute('style',`\r\n\t\tbackground-color: rgba(0,0,0,0.5);\r\n\t\tcolor:white; \r\n\t\tposition: sticky;\r\n\t\tbottom:95%;\r\n\t\tpadding:10px;\r\n\t\tfont-weight:bold;\r\n\t\ttext-align: center;\r\n\t\tz-index:2147483647;\r\n    \t`);\r\n    el.innerHTML = msg;\r\n    setTimeout(()=>el.parentNode.removeChild(el),duration);\r\n    document.body.appendChild(el);\r\n}\r\n\r\naddEventListener(\"keydown\", (event) => {\r\n\tif (event.key === 'Enter' && event.altKey) toggleFullscreen();\r\n\telse if (event.key == \"F2\") toggleContentEditable();\r\n\telse if (event.key == \"F4\") toggleUserSelect();\r\n});","libs":[],"name":"<h4>頁面編輯</h4><button>Alt</button>+<button>Enter</button>=全螢幕模式<br><button>F2</button>=切換<code>contenteditable</code><br><button>F4</button>=<code>userSelect='text'</code>","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":".stop, #egg_mask, #egg_box, #not-adult {display: none!important;}#adult {color: transparent!important; position: absolute!important; inset: 0px!important; width: 100%!important; height: 100%!important; border: unset!important; margin: unset!important; display: inline-block !important;}.top_sky.fullwindow-unlock.fullwindow {height: 95px!important;}.top_sky.fullwindow-unlock.fullwindow:hover {transform: unset!important;}.subtitle.vjs-hidden {background: transparent!important; border: unset!important; z-index: 99!important; width: 1px!important; right: 0px!important; left: unset!important; display: block !important;}#adSkipButton, .video-google-AD {z-index: 100 !important;}.nativeAD-skip-button {z-index: 101 !important;}.subtitle.vjs-hidden:hover {background: var(--card-bg)!important; width: 25.5%!important;}@media screen and (max-width: 999.9px) {.subtitle.vjs-hidden, .subtitle.vjs-hidden:hover {background: var(--card-bg)!important; width: 100%!important;} }.BH_background .container-player .player .videoframe .video #video-container .video-js .vjs-control-bar {display: flex!important;}#ani_video:not(.vjs-has-started) #ani_video_html5_api {z-index: 10!important;}#ani_video:not(.vjs-has-started) .vjs-control-bar {display: none !important;}.ncc-choosebar {width: 0px !important;}.ncc-choosearea {justify-content: flex-start !important; align-items: flex-start !important;}.ncc-choosearea img {visibility: hidden!important;}.video-cover-ncc {color: transparent!important;}.anime-quiz {background: rgba(85, 85, 85, 0.333)!important; top: 16% !important;}.video-login-wrapper, .R18 {background: transparent!important; align-items: flex-end !important;}.R18 .video-cover-ncc .ncc-choosearea .ncc-choosebar .ncc-choose-btn button:hover {background: unset!important;}.R18 .video-cover-ncc, .ncc-choosearea {height: 100%!important;}::-webkit-scrollbar {width: 1px!important;}@media (prefers-color-scheme: dark) { }","css":".stop,\r\n#egg_mask,\r\n#egg_box,\r\n#not-adult {\r\n    display: none;\r\n}\r\n#adult {\r\n    color: transparent;\r\n    display: inline-block!important;\r\n    position: absolute;\r\n    inset: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    border: unset;\r\n    margin: unset;\r\n}\r\n.top_sky.fullwindow-unlock.fullwindow {\r\n    height: 95px;\r\n}\r\n.top_sky.fullwindow-unlock.fullwindow:hover {\r\n    transform: unset;\r\n}\r\n.subtitle.vjs-hidden {\r\n    display: block!important;\r\n    background: transparent;\r\n    border: unset;\r\n    z-index: 99;\r\n    width: 1px;\r\n    right: 0;\r\n    left: unset;\r\n}\r\n#adSkipButton,\r\n.video-google-AD {\r\n    z-index: 100!important;\r\n}\r\n.nativeAD-skip-button{\r\n    z-index: 101!important;\r\n}\r\n.subtitle.vjs-hidden:hover {\r\n    background: var(--card-bg);\r\n    width: 25.5%;\r\n}\r\n@media screen and (max-width: 999.9px) {\r\n    .subtitle.vjs-hidden,\r\n    .subtitle.vjs-hidden:hover {\r\n        background: var(--card-bg);\r\n        width: 100%;\r\n    }\r\n}\r\n.BH_background .container-player .player .videoframe .video #video-container .video-js .vjs-control-bar {\r\n    display: flex;\r\n/*     z-index: 100; */\r\n}\r\n#ani_video:not(.vjs-has-started) #ani_video_html5_api {\r\n    z-index: 10;\r\n}\r\n#ani_video:not(.vjs-has-started) .vjs-control-bar {\r\n    display: none!important;\r\n}\r\n.ncc-choosebar {\r\n    width: 0!important;\r\n}\r\n.ncc-choosearea {\r\n    justify-content: flex-start!important;\r\n\talign-items: flex-start!important;\r\n}\r\n.ncc-choosearea img{\r\n    visibility: hidden;\r\n}\r\n.video-cover-ncc {\r\n    color: transparent;\r\n}\r\n.anime-quiz {\r\n    background: #5555;\r\n    top: 16%!important;\r\n}\r\n.video-login-wrapper,\r\n.R18 {\r\n    background: transparent;\r\n    align-items: flex-end!important;\r\n}\r\n.R18 .video-cover-ncc .ncc-choosearea .ncc-choosebar .ncc-choose-btn button:hover {\r\n    background: unset;\r\n}\r\n.R18 .video-cover-ncc,\r\n.ncc-choosearea {\r\n    height: 100%;\r\n}\r\n/* width */\r\n::-webkit-scrollbar {\r\n    width: 1px;\r\n}\r\n/* Handle on hover */\r\n/* ::-webkit-scrollbar-thumb:hover {\r\n  background: #555; \r\n} */\r\n@media (prefers-color-scheme: dark) {\r\n    /* Handle on hover */\r\n    /*     ::-webkit-scrollbar-thumb:hover {\r\n      background: #555; \r\n    } */\r\n}","id":"https://ani.gamer.com.tw/animeVideo.php?sn=*","js":"const 倒計時_秒 = 10;\r\nasync function next(s = 0){\r\n  for(const sleep = resolve => setTimeout(resolve, 1000); s>0; s--){\r\n    danmutxt.placeholder = `${s} 秒後播放下一集/訂閱的動畫...`;\r\n    await new Promise(sleep);\r\n    while(!document.hasFocus())\r\n      await new Promise(resolve=>requestAnimationFrame(resolve));\r\n    if(esc()){\r\n      danmutxt.placeholder = `已取消繼續播放`;\r\n      for(s = 3; s>0; s--) await new Promise(sleep);\r\n      danmutxt.placeholder = ``;\r\n      return;\r\n    }\r\n  }\r\n  danmutxt.placeholder = `即將播放下一集/訂閱的動畫...`;\r\n  let next = '';\r\n    if (document.querySelector(\".vjs-next-button.vjs-hidden\")){\r\n      for(const a of document.querySelectorAll(`#topBarMsgList_light_1 > div > a[data-gtm-notification=\"ani\"]`)){\r\n          // console.log(`\r\n          //   a.href=${a.href}\r\n          //   document.URL=${document.URL}\r\n          //   next=${next}\r\n          // `);\r\n        if (a.href == document.URL) {\r\n          if(!next)\r\n            danmutxt.placeholder =`⚠️找不到下一部最近更新的動畫`;\r\n          else open(next, \"_self\");\r\n          // console.log(`open(next, \"_self\");`);\r\n          return;\r\n        }\r\n        next = a.href;\r\n      }\r\n    } else {\r\n    $('.vjs-next-button').click();\r\n    // console.log(`$('.vjs-next-button').click();`);\r\n  }\r\n}\r\nfunction agree(event=null){\r\n  const qagree=`.choose-btn-agree`;\r\n  if (document.querySelector(qagree)){\r\n    if(event) event.preventDefault();\r\n    $(qagree).click();\r\n    // console.log(`$(qagree).click();`);\r\n  }\r\n}\r\nfunction skip(event=null){\r\n  const adskip=`.videoAdUiSkipButton.videoAdUiAction.videoAdUiRedesignedSkipButton`,\r\n    nadskip = `.nativeAD-skip-button.enable`;\r\n    if (document.querySelector(adskip)){\r\n    if(event) event.preventDefault();\r\n    $(adskip).click();\r\n  } else if (document.querySelector(nadskip)){\r\n    if(event) event.preventDefault();\r\n      $(nadskip).click();\r\n  }\r\n}\r\nlet ifcancel = false;\r\nfunction esc(){\r\n\tif(ifcancel){\r\n\t\tifcancel = false;\r\n\t\treturn true;\r\n\t} else return false;\r\n}\r\naddEventListener('keyup', event => {\r\n  if(!$('.danmu-text').is(':focus')){\r\n    // console.log(event.key);\r\n    switch (event.key) {\r\n      case 'Enter':\r\n        if(document.querySelector(`.vjs-playing`))\r\n          ani_video_html5_api.pause();\r\n        danmutxt.focus({ focusVisible: true });\r\n        return;\r\n      case 'Escape':\r\n        if(!ifcancel)\r\n          ifcancel = true;\r\n        return;\r\n      case ' ':\r\n        agree(event);\r\n          skip(event);\r\n        return;\r\n      case 'ArrowRight':\r\n        if(document.querySelector(\".vjs-ended\"))\r\n          next();\r\n        return;\r\n      case 'n':\r\n        TOPBAR_show('light_1');\r\n        return;\r\n      case 'N':\r\n        next();\r\n        return;\r\n      case 'P':\r\n        $('.vjs-pre-button').click();\r\n        // console.log(`$('.vjs-pre-button').click();`);\r\n        return;\r\n      case `j`:\r\n        ani_video_html5_api.currentTime+=87;\r\n        return;\r\n      case `J`:\r\n        ani_video_html5_api.currentTime-=90;\r\n        return;\r\n    }\r\n  }\r\n}, true);\r\n\r\naddEventListener('keydown', event => {\r\n  if (event.defaulPrevented) return;\r\n  if (event.key === ' ' && (\r\n    document.querySelector(`.vjs-ended`)||\r\n    document.querySelector('.choose-btn-agree') ||\r\n    document.querySelector('.nativeAD-skip-button.enable') ||\r\n    document.querySelector('.videoAdUiSkipButton.videoAdUiAction.videoAdUiRedesignedSkipButton'))\r\n  ) event.preventDefault();\r\n}, true);\r\n\r\n// https://stackoverflow.com/questions/17614844/javascript-jquery-detect-if-input-is-focused\r\n// this === document.activeElement\r\n\r\nTOPBAR_show('light_1');\r\nTOPBAR_show('light_1');\r\n\r\n~async function(\r\n  ended = `.vjs-ended`,\r\n  error = `.vjs-error`,\r\n  qagree = `.choose-btn-agree`,\r\n  adskip = `.videoAdUiSkipButton.videoAdUiAction.videoAdUiRedesignedSkipButton`,\r\n  nadskip = `.nativeAD-skip-button.enable`,\r\n  fullscreen = `.vjs-fullscreen-control:not(.fullscreen-close)`,\r\n  searchsky = window[`anime-search-sky`],\r\n  s = 倒計時_秒,\r\n){\r\n  while(!document.querySelector(qagree))\r\n    await new Promise(resolve=>requestAnimationFrame(resolve));\r\n  qagree = searchsky.placeholder;\r\n  for(const sleep = resolve=>setTimeout(resolve, 1000); s > 0; s--){\r\n    searchsky.placeholder = `${s} 秒後播放動畫...`;\r\n    await new Promise(sleep);\r\n    while(!document.hasFocus())\r\n      await new Promise(resolve=>requestAnimationFrame(resolve));\r\n    if(esc()){\r\n      searchsky.placeholder = `已取消自動播放動畫`;\r\n      for(s = 3; s>0; s--) await new Promise(sleep);\r\n      searchsky.placeholder = qagree;\r\n      s = `esc`;\r\n      break;\r\n    }\r\n  }\r\n  if(s!=`esc`){\r\n    searchsky.placeholder = `即將播放動畫...`;\r\n    agree();\r\n    searchsky.placeholder = qagree;\r\n    ani_video.requestFullscreen();\r\n  }\r\n  while(\r\n    !document.querySelector(adskip)||\r\n    !document.querySelector(nadskip)||\r\n    !document.querySelector(ended)\r\n  ){await new Promise(resolve=>requestAnimationFrame(resolve));\r\n    if(document.querySelector(ended)){ //no AD\r\n      next(倒計時_秒);\r\n      return;\r\n    } else if(document.querySelector(error)) {\r\n      const sleep = resolve => setTimeout(resolve, 1000);\r\n      const e = document.createElement(`div`);\r\n      document.querySelector(`.vjs-error-display>div`).appendChild(e);\r\n      for(s = 3; s>0; s--){\r\n        await new Promise(sleep);\r\n        e.innerHTML = `${s} 秒後重新整理...`;\r\n      }\r\n      location.reload();\r\n    }\r\n  }\r\n  skip();\r\n  while(!document.querySelector(ended))\r\n    await new Promise(resolve=>setTimeout(resolve, 1000));\r\n  next(倒計時_秒);\r\n}();","libs":[],"name":"<h4>巴哈姆特動漫瘋外掛</h4><button>N</button>=訂閱<br>[<button>Shift</button>+]<button>J</button>=快進87秒/倒退90秒<br><button>Shift</button>+<button>P</button>/<button>N</button>=上一集/下一集<br><button>␣</button>=同意年齡分級/跳過廣告(廣告中按下會讓畫面變黑並靜音)<br>","options":{"altCSS":false,"altJS":false,"autoImportant":true,"on":true}},{"compiledCss":"","css":"","id":"https://lms2020.nchu.edu.tw","js":"document.querySelector('.js-captcha').src=\"https://lms2020.nchu.edu.tw/sys/libs/class/capcha/secimg.php?&charLens=1&codeType=num\";\n// https://www.readfog.com/a/1632825598249373696","libs":[],"name":"1位驗證碼","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}},{"compiledCss":"","css":"","id":"https://act.hoyolab.com/ys/event/signin-sea-*","js":"~async function (\r\n  icon = `.mhy-hoyolab-account-block__avatar-icon`,\r\n  blah = `.components-home-assets-__sign-content_---`,\r\n  blahM = `.components-m-assets-__index_---`,\r\n  uidM = blah + `nick-name---2I1pf3`,\r\n  signWrapper = blah + `sign-wrapper---38rWqB`,\r\n  signWrapperM = blahM + `sign-wrapper---3WcYRI`,\r\n) {\r\n  while (\r\n    !document.querySelector(signWrapper) &&\r\n    !document.querySelector(signWrapperM) ||\r\n    1 + document.querySelector(icon).src.indexOf(`data:image`) &&\r\n    !document.querySelector(uidM)\r\n  ) await new Promise(resolve => requestAnimationFrame(resolve))\r\n  document.querySelector(signWrapper).click();\r\n  document.querySelector(signWrapperM).click();\r\n}();","libs":["jQuery 3"],"name":"【原神】每日簽到","options":{"altCSS":false,"altJS":false,"autoImportant":false,"on":true}}]}